const { test } = require('@playwright/test');
const { execSync } = require('child_process');
const path = require('path');

test.describe('{{{featureName}}}', () => {
  test(`Run Cucumber Feature: {{{scenarioName}}}`, () => {
    const featureFile = path.join(__dirname, '../Features', '{{featureName}}.feature');
    try {
      execSync(`FORCE_COLOR=1 npx cucumber-js "${featureFile}"`, { encoding: 'utf8', stdio: 'inherit' });
    } catch (error) {
      throw new Error('Cucumber feature execution failed.');
    }
  });
});